---
layout: post
title: 重磅｜Zotero Scholar Citations插件中国定制版来了！
date: 2020-03-13 23:1:00
tags: 
- Zotero
published: false
---

### Zotero Scholar Citations插件中国版

前阵子通过下面这篇推文给大家分享了Zotero Scholar Citations插件，可以实现抓取Zotero文献的谷歌学术引用量，并显示在`Extra`中。

[Zotero Scholar Citations插件，帮你显示Zotero文献引用量！](https://mp.weixin.qq.com/s/44ADU_pE5-9n2DxY3d_IEg)

通过将`Extra`单独列出来，更可以实现按照引用量对文献进行排序。（如果`Extra`中已有其他内容，引用量会自动显示在最前面，便于我们统一排序）

虽然说这款插件带来了我们非常需要的功能，但是该插件存在一些问题，特别是对于国内用户，这些问题是非常致命的，极大地影响了使用体验。

最主要的两个问题是：

- 该插件抓取的是谷歌学术上的文献引用数据。大家都知道，如果不采取特殊办法，国内用户是无法访问谷歌学术的，这会直接导致该插件无法使用。因此这是一个核心问题。
- 由于谷歌学术的流量控制，一旦你通过该插件一次性更新过多文献的引用量，谷歌会自动开启人机验证。直接的表现是，该插件会弹出人机验证提示，甚至是一连串的（着实影响体验）。当你在弹出人机验证窗口中完成验证后，才能继续使用该插件。然而，每次能够更新的文献数量是有限制的，预计在几十篇左右。超过数量后，便无法更新更多文献，只能等到24小时后的第二天。因此，总结下这一点：最烦人的莫过于人机验证弹窗，文献更新数量限制倒是没那么重要，毕竟几天后，你Zotero中的文献引用量也差不多更新完了，后面也不会每天导入那么多文献。

为了解决或者改善以上问题，我近期修改了该插件，形成了【Zotero Scholar Citations插件中国定制版】。

#### 修改版有什么不一样？

下面我就总结下相比于原版插件，修改版解决了哪些问题？改善了哪些问题？哪些问题依然存在？

- 我将该插件抓取文献引用量的目标网站，从原版中的谷歌官网（https://scholar.google.com/）改为国内的谷歌学术镜像“谷粉学术（https://c3.gufenxueshu.com/）”。因此从根本上解决了国内用户由于无法访问谷歌而不能使用该插件的问题。再者，由于谷粉学术等谷歌镜像的数据是来自谷歌学术官方，因此能够保证修改版插件抓取的数据无误。
- 将网站改为谷粉学术后，当你通过`Update citation(s)`更新Zotero文献引用量时，不会再出现任何人机验证弹窗，因此这个烦人的问题算是解决了。但是这并不代表谷粉学术就没有流量控制，经过初步测试，每天能够更新的文献数量基本和谷歌学术官方一致，差不多在数十篇（可能会有所波动）。不过无妨，正如我前面所说，花几天到十几天，Zotero内的文献也差不错更新完引用量了。
- 原版插件的引用量在`Extra`中的显示格式为：`ZSCC: xxxxxxx`。我嫌它太长了，在Zotero中显示出来有些拥挤。因此，在修改版中，我将格式更改为：`SC: xxxxxxx`。

下面我放一张采用修改版插件更新文献引用量后的截图。👇

![](https://tva1.sinaimg.cn/large/00831rSTly1gcsrv7u6vwj31740qaqdc.jpg)

这里我将文献按照引用量降序排列了，方便从一定程度上衡量文献的重要性或影响力。

怎么样，看起来还不错吧！

下面再给大家介绍下，如何判断当日是否达到了文献更新的数量上限。

如果当天你更新了很多篇文献之后，遇到下面这种情况，往往代表已经触发了谷粉学术的流量控制：

Extra中显示：`SC: NoData[sx]`，其中`x`代表数字0-9。即第一次抓取失败会显示`SC: NoData[s0]`，如果你对一篇文献第二次抓取失败，则显示`SC: NoData[s1]`，直到`SC: NoData[s9]`，继续抓取，则重置为`SC: NoData[s0]`。`SC: NoData[sx]`是触发验证机制的主要表现形式，如果出现这种情况，就不要再更新了，等到24小时后的第二天则会自动恢复正常，继续更新即可。👇

![](https://tva1.sinaimg.cn/large/00831rSTly1gcss90n46wj31740qawl7.jpg)

注意：如果个别文献信息不全，或者从数据库无法查询到引用信息，也会显示`SC: NoData[sx]`。因此，可以通过多试几篇文献，来判断是否由流量控制导致的。

#### 如何快速筛选所有未成功抓取引用量的文献？

那么，一个问题来了，假如今天更新文献引用量时触发了流量控制，也就是说部分文献的`Extra`值为`SC: NoData[sx]`，那么我第二天如何快速找到这些更新失败的文献呢？

这里就轮到Zotero的 `Saved Search`功能派上用场了！也就是我在昨天的推文中介绍的内容。👇

[厉害了！Zotero的【Saved Search】功能竟有如此妙用！](https://mp.weixin.qq.com/s/Twpyd6emaDqrhpf6rANfdA)

考虑到更新引用量失败的文献都有一个特征：`Extra`中会有`[s`。因此，我们可以建立下图所示的`Saved Search`，并命名为`Citations to update`。👇

![](https://tva1.sinaimg.cn/large/00831rSTly1gcssp43pyij30nz090dgb.jpg)

这样，所有引用量更新失败的往日文献都会在这里列出来！因此，第二天的任务就是把这些文献更新完毕！

![](https://tva1.sinaimg.cn/large/00831rSTgy1gcsst2nd5cj31740qan53.jpg)

### 修改版插件下载方式

微信扫码加入【青柠学术-知识星球】，即可下载【Zotero Scholar Citations插件中国定制版】。

![](https://tva1.sinaimg.cn/large/00831rSTly1gctak1hw89j30j60putal.jpg)

有任何使用问题，欢迎在知识星球或者微信群提问交流。